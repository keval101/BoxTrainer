(self.webpackChunkonline_box_trainer=self.webpackChunkonline_box_trainer||[]).push([[132],{4132:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TakescreenshotModule:()=>C});var o=n(8583),i=n(5035),r=n(639),a=n(9790),c=n(7441),s=n(5610),h=n(5537),d=n(6088),g=n(7451);const l=["video"],u=["canvas"];function m(e,t){1&e&&(r.TgZ(0,"p",14),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"recordingPage.screenShotText")," "))}function f(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",15),r.TgZ(1,"button",16),r.NdJ("click",function(){return r.CHM(e),r.oxw().onRetake()}),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"button",17),r.NdJ("click",function(){return r.CHM(e),r.oxw().onDone()}),r._uU(5),r.ALo(6,"translate"),r.qZA(),r.qZA()}2&e&&(r.xp6(2),r.hij(" ",r.lcZ(3,2,"recordingPage.retake")," "),r.xp6(3),r.hij(" ",r.lcZ(6,4,"recordingPage.done")," "))}const p=function(e){return{zIndex:e}},v=[{path:"",component:(()=>{class e{constructor(e,t,n,o,i,r){this.router=e,this.TranslateService=t,this.choosescreenshotService=n,this.takescreenshotService=o,this.setupSerice=i,this.headerService=r,this.takeScreenshot=!1,this.onCameraClick=!1,this.imageCapture=!1,this.isTaken=!1,this.headerService.flashToggled.subscribe(e=>{}),this.deviceInfoId=this.setupSerice.cameraIdInformation}ngOnInit(){this.isScreenShot=!0,this.recording=!0,this.takeScreenshot=!0,1==this.choosescreenshotService.backToScreen&&(this.takeScreenshot=!0,this.recording=!0,this.isScreenShot=!0)}ngAfterViewInit(){let e=this.video.nativeElement;navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({video:{deviceId:this.deviceInfoId?{exact:this.deviceInfoId}:void 0}}).then(t=>{window.stream=t,this.videoStream=t,e.srcObject=t,e.play()})}takeScreenShot(){this.isTaken=!0,this.onCameraClick=!0,this.takeScreenshot=!1,this.imageCapture=!0,this.canvas.nativeElement.getContext("2d").drawImage(this.video.nativeElement,0,0,640,480)}onRetake(){this.takeScreenshot=!0,this.onCameraClick=!1,this.imageCapture=!1,this.isTaken=!1}onDone(){this.router.navigate(["/choosescreenshot"]),this.takescreenshotService.captures.push(this.canvas.nativeElement.toDataURL("image/png")),this.takescreenshotService.resultImageSource=this.canvas.nativeElement.toDataURL("image/png")}ngOnDestroy(){window.stream&&window.stream.getTracks().forEach(e=>{e.stop()})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(i.F0),r.Y36(a.sK),r.Y36(c.u),r.Y36(s.Q),r.Y36(h.U),r.Y36(d.r))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-takescreenshot"]],viewQuery:function(e,t){if(1&e&&(r.Gf(l,5),r.Gf(u,5)),2&e){let e;r.iGM(e=r.CRH())&&(t.video=e.first),r.iGM(e=r.CRH())&&(t.canvas=e.first)}},decls:14,vars:8,consts:[[1,"header"],[3,"onFinishRecording","ontakeScreenshot"],[1,"container"],[1,"snapshotContainer"],["width","640","height","480","autoplay","",1,"video",3,"ngClass"],["video",""],["width","640","height","480",1,"canvas"],["canvas",""],[1,"container__footer"],[1,"container__footer--camera"],["type","button",1,"cameraBtn",3,"disabled","click"],["src","assets/icnons/camera.png","alt","camera-icon","id","cameraIcon"],["class","screenShotText",4,"ngIf"],["class","container__footer--Btngroup",4,"ngIf"],[1,"screenShotText"],[1,"container__footer--Btngroup"],[1,"button","button-small","button-outline",3,"click"],[1,"button","button-small","button-fill",3,"click"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r._UZ(1,"app-header",1),r.qZA(),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r._UZ(4,"video",4,5),r._UZ(6,"canvas",6,7),r.qZA(),r.TgZ(8,"div",8),r.TgZ(9,"div",9),r.TgZ(10,"button",10),r.NdJ("click",function(){return t.takeScreenShot()}),r._UZ(11,"img",11),r.qZA(),r.YNc(12,m,3,3,"p",12),r.qZA(),r.YNc(13,f,7,6,"div",13),r.qZA(),r.qZA()),2&e&&(r.xp6(1),r.Q6J("onFinishRecording",t.recording)("ontakeScreenshot",t.takeScreenshot),r.xp6(3),r.Q6J("ngClass",r.VKq(6,p,!t.imageCapture)),r.xp6(6),r.Q6J("disabled",t.isTaken),r.xp6(2),r.Q6J("ngIf",t.isScreenShot),r.xp6(1),r.Q6J("ngIf",t.onCameraClick))},directives:[g.G,o.mk,o.O5],pipes:[a.X$],styles:[".button[_ngcontent-%COMP%]{height:4.8rem;border-radius:.5rem;font-size:2.4rem;background:#0000;border:.2rem solid #0000;cursor:pointer;font-weight:500;display:flex;justify-content:center;align-items:center}.button-big[_ngcontent-%COMP%]{width:32rem}.button-exSmall[_ngcontent-%COMP%]{width:8rem}.button-small[_ngcontent-%COMP%]{width:24rem}.button-fill[_ngcontent-%COMP%]{background-color:#b41513;color:#fff;font-family:Myriad Light}.button-outline[_ngcontent-%COMP%]{color:#b41513;border-color:#b41513}.button-outline[_ngcontent-%COMP%]:hover{background-color:initial!important}.button-outline[_ngcontent-%COMP%]:hover, .button[_ngcontent-%COMP%]:hover{transform:translateY(.2rem);box-shadow:0 .2rem .2rem rbga(0,0,0,.25);transition:all .5s ease}.button[_ngcontent-%COMP%]:hover{background-color:#7d0000}.header[_ngcontent-%COMP%]{z-index:20}.container[_ngcontent-%COMP%]{position:absolute;height:100vh;top:0;width:100%;overflow:hidden;z-index:-1}.container__footer[_ngcontent-%COMP%]{width:100%;height:12.8rem;position:absolute;bottom:0;left:0;padding:0 4rem;background-color:#f3f4f4b3;display:flex;align-items:center;justify-content:space-between;z-index:10}.container__footer--camera[_ngcontent-%COMP%]{display:flex}.container__footer[_ngcontent-%COMP%]   #cameraIcon[_ngcontent-%COMP%]{width:7.7rem}.container__footer[_ngcontent-%COMP%]   .cameraBtn[_ngcontent-%COMP%]{background-color:initial;border:none;cursor:pointer}.container__footer[_ngcontent-%COMP%]   .screenShotText[_ngcontent-%COMP%]{color:#b41513;font-size:3.2rem;margin-left:1rem}.container__footer--Btngroup[_ngcontent-%COMP%]{display:flex}.container__footer--Btngroup[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:last-child){margin-right:1.6rem}.snapshotContainer[_ngcontent-%COMP%]{position:relative;display:flex;width:100%;height:100%;justify-content:space-between}.canvas[_ngcontent-%COMP%], .video[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.canvas[_ngcontent-%COMP%]{position:absolute}@media screen and (max-width: 600px){.canvas[_ngcontent-%COMP%]{object-fit:none}}.zIndex[_ngcontent-%COMP%]{z-index:1}"]}),e})()}];let _=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[i.Bz.forChild(v)],i.Bz]}),e})();var b=n(404);let C=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[o.ez,_,b.O,a.aw]]}),e})()}}]);